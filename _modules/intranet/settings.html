<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>intranet.settings &#8212; TJ Intranet v3 (Build #4599) documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          TJ Intranet</a>
        <span class="navbar-text navbar-version pull-left"><b>v3</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Topics <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../setup/fixtures.html">Fixtures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../setup/postinstall.html">Post-Install Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../setup/sandbox.html">Setting up Your Sandbox Manually</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../setup/server.html">Setting up the Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../setup/vagrant.html">Setting up Vagrant</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/index.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/index.html#technologies">Technologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/index.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developing/index.html">Developing for Intranet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developing/howto.html">How to perform common tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developing/oauth.html">Using OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developing/styleguide.html">Coding Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developing/testing.html">Test Writing Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developing/updates.html">Keeping things up-to-date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developing/workflow.html">Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sourcedoc/modules.html">intranet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sourcedoc/intranet.html">intranet package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../administration/index.html">Administration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../administration/index.html#running-manage-py">Running manage.py</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Section <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <h1>Source code for intranet.settings</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span>  <span class="c1"># noqa</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
    <span class="c1"># dependency on ipaddress module</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Python 3.3 or higher is required.&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">..utils</span> <span class="k">import</span> <span class="n">helpers</span>  <span class="c1"># noqa</span>
<span class="sd">&quot;&quot;&quot; !! In production, add a file called secret.py to the settings package that</span>
<span class="sd">defines AUTHUSER_PASSWORD, SECRET_KEY, SECRET_DATABASE_URL. !!</span>


<span class="sd">SECRET_DATABASE_URL should be of the following form:</span>
<span class="sd">    postgres://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;/&lt;database&gt;</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># Dummy values for development and testing.</span>
<span class="c1"># Overridden by the import from secret.py below.</span>
<span class="n">SECRET_DATABASE_URL</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: str</span>
<span class="n">MAINTENANCE_MODE</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: bool</span>
<span class="n">TJSTAR_MAP</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: bool</span>
<span class="n">TWITTER_KEYS</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: Dict[str,str]</span>
<span class="n">ADMINS</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: List[Tuple[str,str]]</span>
<span class="n">SENTRY_PUBLIC_DSN</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: str</span>
<span class="n">USE_SASL</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">NO_CACHE</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">PARKING_ENABLED</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">PARKING_MAX_ABSENCES</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">NOMINATIONS_ACTIVE</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">NOMINATION_POSITION</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">ENABLE_WAITLIST</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">ENABLE_BUS_APP</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">ENABLE_BUS_DRIVER</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">EMERGENCY_MESSAGE</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: str</span>

<span class="c1"># Hosts/domain names that are valid for this site; required if DEBUG is False</span>
<span class="c1"># See https://docs.djangoproject.com/en/1.4/ref/settings/#allowed-hosts</span>
<span class="c1">#</span>
<span class="c1"># In production, Nginx filters requests that are not in this list. If this is</span>
<span class="c1"># not done, an email failure notification gets sent whenever someone messes with</span>
<span class="c1"># the HTTP Host header.</span>
<span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ion.tjhsst.edu&quot;</span><span class="p">,</span> <span class="s2">&quot;198.38.18.250&quot;</span><span class="p">,</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">]</span>

<span class="n">SCHOOL_START_DATE</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>

<span class="n">HOCO_START_DATE</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">HOCO_END_DATE</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>

<span class="n">PRODUCTION</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;PRODUCTION&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;TRUE&quot;</span>
<span class="n">TRAVIS</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;TRAVIS&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;TRUE&quot;</span>
<span class="c1"># FIXME: figure out a less-hacky way to do this.</span>
<span class="n">TESTING</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;test&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="n">LOGGING_VERBOSE</span> <span class="o">=</span> <span class="n">PRODUCTION</span>

<span class="n">MASTER_NOTIFY</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># DEBUG defaults to off in PRODUCTION, on otherwise.</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="ow">not</span> <span class="n">PRODUCTION</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span> <span class="o">==</span> <span class="s2">&quot;TRUE&quot;</span>

<span class="c1"># Don&#39;t send emails unless we&#39;re in production.</span>
<span class="n">EMAIL_ANNOUNCEMENTS</span> <span class="o">=</span> <span class="n">PRODUCTION</span>
<span class="n">SEND_ANNOUNCEMENT_APPROVAL</span> <span class="o">=</span> <span class="n">PRODUCTION</span>

<span class="c1"># Don&#39;t require https for testing.</span>
<span class="n">SESSION_COOKIE_SECURE</span> <span class="o">=</span> <span class="n">PRODUCTION</span>
<span class="n">CSRF_COOKIE_SECURE</span> <span class="o">=</span> <span class="n">PRODUCTION</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">PRODUCTION</span><span class="p">:</span>
    <span class="c1"># We don&#39;t care about session security when running a testing instance.</span>
    <span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s2">&quot;_5kc##e7(!4=4)h4slxlgm010l+43zd_84g@82771ay6no-1&amp;i&quot;</span>
    <span class="c1"># Trust X-Forwarded-For when testing</span>
    <span class="n">SECURE_PROXY_SSL_HEADER</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;HTTP_X_FORWARDED_PROTOCOL&#39;</span><span class="p">,</span> <span class="s1">&#39;https&#39;</span><span class="p">)</span>

<span class="c1"># Internal IP ranges in production</span>
<span class="n">_internal_ip_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;198.38.16.0/20&quot;</span><span class="p">,</span> <span class="s2">&quot;2001:468:cc0::/48&quot;</span><span class="p">]</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">PRODUCTION</span><span class="p">:</span>
    <span class="c1"># Additional Internal IP ranges for debugging</span>
    <span class="n">_internal_ip_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;127.0.0.0/8&quot;</span><span class="p">,</span> <span class="s2">&quot;10.0.0.0/8&quot;</span><span class="p">])</span>

<span class="n">INTERNAL_IPS</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">GlobList</span><span class="p">(</span><span class="n">_internal_ip_list</span><span class="p">)</span>

<span class="c1"># Used for Filecenter access; FCPS external/internal IP ranges</span>
<span class="n">_tj_ip_list</span> <span class="o">=</span> <span class="n">_internal_ip_list</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;151.188.0.0/18&quot;</span><span class="p">,</span> <span class="s2">&quot;151.188.192.0/18&quot;</span><span class="p">,</span> <span class="s2">&quot;10.0.0.0/8&quot;</span><span class="p">]</span>

<span class="n">TJ_IPS</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">GlobList</span><span class="p">(</span><span class="n">_tj_ip_list</span><span class="p">)</span>

<span class="n">PROJECT_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)))</span>

<span class="n">LOGIN_URL</span> <span class="o">=</span> <span class="s2">&quot;/login&quot;</span>
<span class="n">LOGIN_REDIRECT_URL</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span>

<span class="n">APPEND_SLASH</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Email backend and mailserver configuration</span>

<span class="n">EMAIL_BACKEND</span> <span class="o">=</span> <span class="s2">&quot;django.core.mail.backends.smtp.EmailBackend&quot;</span>
<span class="n">EMAIL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mail.tjhsst.edu&quot;</span>
<span class="n">EMAIL_PORT</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">EMAIL_USE_TLS</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># FIXME: use tls</span>
<span class="n">EMAIL_SUBJECT_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;[Ion] &quot;</span>
<span class="n">EMAIL_ANNOUNCEMENTS</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">EMAIL_FROM</span> <span class="o">=</span> <span class="s2">&quot;ion-noreply@tjhsst.edu&quot;</span>

<span class="c1"># Address to send production error messages</span>
<span class="c1"># define in secret.py</span>

<span class="k">if</span> <span class="n">ADMINS</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ADMINS</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;Dummy User&quot;</span><span class="p">,</span> <span class="s2">&quot;root@localhost&quot;</span><span class="p">)]</span>

<span class="c1"># Use PostgreSQL database</span>

<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django_prometheus.db.backends.postgresql&#39;</span><span class="p">,</span> <span class="s1">&#39;CONN_MAX_AGE&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">}}</span>  <span class="c1"># type: Dict[str,Dict[str,Any]]</span>

<span class="n">MANAGERS</span> <span class="o">=</span> <span class="n">ADMINS</span>

<span class="c1"># Address to send feedback messages to</span>
<span class="n">FEEDBACK_EMAIL</span> <span class="o">=</span> <span class="s2">&quot;intranet@lists.tjhsst.edu&quot;</span>

<span class="c1"># Address to send approval messages to</span>
<span class="n">APPROVAL_EMAIL</span> <span class="o">=</span> <span class="s2">&quot;intranet-approval@lists.tjhsst.edu&quot;</span>

<span class="n">FILE_UPLOAD_HANDLERS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;django.core.files.uploadhandler.MemoryFileUploadHandler&quot;</span><span class="p">,</span> <span class="s2">&quot;django.core.files.uploadhandler.TemporaryFileUploadHandler&quot;</span><span class="p">]</span>

<span class="c1"># The maximum number of pages in one document that can be</span>
<span class="c1"># printed through the printing functionality (determined through pdfinfo)</span>
<span class="n">PRINTING_PAGES_LIMIT</span> <span class="o">=</span> <span class="mi">15</span>

<span class="c1"># The maximum file upload and download size for files</span>
<span class="n">FILES_MAX_UPLOAD_SIZE</span> <span class="o">=</span> <span class="mi">200</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span>
<span class="n">FILES_MAX_DOWNLOAD_SIZE</span> <span class="o">=</span> <span class="mi">200</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span>

<span class="c1"># Custom error view for CSRF errors; if unspecified, caught by nginx with a generic error</span>
<span class="n">CSRF_FAILURE_VIEW</span> <span class="o">=</span> <span class="s2">&quot;intranet.apps.error.views.handle_csrf_view&quot;</span>

<span class="c1">############################################</span>
<span class="c1">#    OPSEC: GIVE A REASON FOR SILENCING    #</span>
<span class="c1">#    SYSTEM CHECKS IF YOU ADD ONE HERE!    #</span>
<span class="c1">############################################</span>

<span class="n">SILENCED_SYSTEM_CHECKS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Django 1.9 gives the warning that &quot;Your url pattern has a regex beginning with</span>
    <span class="c1"># a &#39;/&#39;. Remove this slash as it is unnecessary.&quot; In our use case, the slash actually</span>
    <span class="c1"># is important; in urls.py we include() a separate urls.py inside of each app, and the</span>
    <span class="c1"># pattern for each does not end in a slash. This allows us to match the index page of</span>
    <span class="c1"># the app without a slash, and then we add the slash manually in every other rule.</span>
    <span class="c1"># Without this, we&#39;d have urls like /announcements/?show_all=true which is just ugly.</span>
    <span class="c1"># Thus, we silence this system check. -- JW, 12/30/2015</span>
    <span class="s2">&quot;urls.W002&quot;</span><span class="p">,</span>
    <span class="c1"># W001 doesn&#39;t apply, as we use nginx to handle SecurityMiddleware&#39;s functions.</span>
    <span class="s2">&quot;security.W001&quot;</span><span class="p">,</span>
    <span class="c1"># Suppress W019, as we use frames in the signage module.</span>
    <span class="s2">&quot;security.W019&quot;</span>
<span class="p">]</span>

<span class="c1"># Local time zone for this installation. Choices can be found here:</span>
<span class="c1"># http://en.wikipedia.org/wiki/List_of_tz_zones_by_name</span>
<span class="c1"># although not all choices may be available on all operating systems.</span>
<span class="c1"># In a Windows environment this must be set to your system time zone.</span>
<span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s2">&quot;America/New_York&quot;</span>

<span class="c1"># Language code for this installation. All choices can be found here:</span>
<span class="c1"># http://www.i18nguy.com/unicode/language-identifiers.html</span>
<span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s2">&quot;en-us&quot;</span>

<span class="n">SITE_ID</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># If you set this to False, Django will make some optimizations so as not</span>
<span class="c1"># to load the internationalization machinery.</span>
<span class="n">USE_I18N</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># If you set this to False, Django will not format dates, numbers and</span>
<span class="c1"># calendars according to the current locale.</span>
<span class="n">USE_L10N</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># If you set this to False, Django will not use timezone-aware datetimes.</span>
<span class="n">USE_TZ</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Absolute filesystem path to the directory that will hold user-uploaded files.</span>
<span class="c1"># Example: &quot;/home/media/media.lawrence.com/media/&quot;</span>
<span class="c1">#</span>
<span class="c1"># Not used.</span>
<span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">),</span> <span class="s1">&#39;uploads&#39;</span><span class="p">)</span>

<span class="c1"># URL that handles the media served from MEDIA_ROOT. Make sure to use a</span>
<span class="c1"># trailing slash.</span>
<span class="c1"># Examples: &quot;http://media.lawrence.com/media/&quot;, &quot;http://example.com/media/&quot;</span>
<span class="c1">#</span>
<span class="c1"># Not used.</span>
<span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="n">TEST_RUNNER</span> <span class="o">=</span> <span class="s2">&quot;django.test.runner.DiscoverRunner&quot;</span>

<span class="c1"># Absolute path to the directory static files should be collected to.</span>
<span class="c1"># Don&quot;t put anything in this directory yourself; store your static files</span>
<span class="c1"># in apps&quot; &quot;static/&quot; subdirectories and in STATICFILES_DIRS.</span>
<span class="c1"># Example: &quot;/home/media/media.lawrence.com/static/&quot;</span>
<span class="c1">#</span>
<span class="c1"># This is the folder that Nginx serves as /static in production</span>
<span class="n">STATIC_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">,</span> <span class="s2">&quot;collected_static&quot;</span><span class="p">)</span>

<span class="c1"># URL prefix for static files.</span>
<span class="c1"># Example: &quot;http://media.lawrence.com/static/&quot;</span>
<span class="n">STATIC_URL</span> <span class="o">=</span> <span class="s2">&quot;/static/&quot;</span>

<span class="c1"># Additional locations of static files</span>
<span class="n">STATICFILES_DIRS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Put strings here, like &quot;/home/html/static&quot; or &quot;C:/www/django/static&quot;.</span>
    <span class="c1"># Always use forward slashes, even on Windows.</span>
    <span class="c1"># Don&quot;t forget to use absolute paths, not relative paths.</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">,</span> <span class="s2">&quot;static&quot;</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># List of finder classes that know how to find static files in</span>
<span class="c1"># various locations.</span>
<span class="n">STATICFILES_FINDERS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;django.contrib.staticfiles.finders.FileSystemFinder&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.staticfiles.finders.AppDirectoriesFinder&quot;</span><span class="p">,</span>
    <span class="s1">&#39;pipeline.finders.PipelineFinder&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">STATICFILES_STORAGE</span> <span class="o">=</span> <span class="s2">&quot;pipeline.storage.PipelineStorage&quot;</span>

<span class="n">PIPELINE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;CSS_COMPRESSOR&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;COMPILERS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;pipeline.compilers.sass.SASSCompiler&#39;</span><span class="p">],</span>
    <span class="s1">&#39;STYLESHEETS&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;source_filenames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;css/base.scss&#39;</span><span class="p">,</span> <span class="s1">&#39;css/themes.scss&#39;</span><span class="p">,</span> <span class="s1">&#39;css/responsive.scss&#39;</span><span class="p">],</span>
            <span class="s1">&#39;output_filename&#39;</span><span class="p">:</span> <span class="s1">&#39;css/base.css&#39;</span>
        <span class="p">},</span>
        <span class="s1">&#39;eighth.admin&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;source_filenames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;css/eighth.common.scss&#39;</span><span class="p">,</span> <span class="s1">&#39;css/eighth.admin.scss&#39;</span><span class="p">],</span>
            <span class="s1">&#39;output_filename&#39;</span><span class="p">:</span> <span class="s1">&#39;css/eighth.admin.css&#39;</span>
        <span class="p">},</span>
        <span class="s1">&#39;eighth.signup&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;source_filenames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;css/eighth.common.scss&#39;</span><span class="p">,</span> <span class="s1">&#39;css/eighth.signup.scss&#39;</span><span class="p">],</span>
            <span class="s1">&#39;output_filename&#39;</span><span class="p">:</span> <span class="s1">&#39;css/eighth.signup.css&#39;</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>  <span class="c1"># type: Dict[str,Any]</span>

<span class="n">LIST_OF_INDEPENDENT_CSS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="s1">&#39;api&#39;</span><span class="p">,</span> <span class="s1">&#39;login&#39;</span><span class="p">,</span> <span class="s1">&#39;emerg&#39;</span><span class="p">,</span> <span class="s1">&#39;files&#39;</span><span class="p">,</span> <span class="s1">&#39;schedule&#39;</span><span class="p">,</span> <span class="s1">&#39;theme.blue&#39;</span><span class="p">,</span> <span class="s1">&#39;page_base&#39;</span><span class="p">,</span> <span class="s1">&#39;responsive.core&#39;</span><span class="p">,</span> <span class="s1">&#39;search&#39;</span><span class="p">,</span> <span class="s1">&#39;dashboard&#39;</span><span class="p">,</span> <span class="s1">&#39;events&#39;</span><span class="p">,</span>
    <span class="s1">&#39;schedule.widget&#39;</span><span class="p">,</span> <span class="s1">&#39;dashboard.widgets&#39;</span><span class="p">,</span> <span class="s1">&#39;profile&#39;</span><span class="p">,</span> <span class="s1">&#39;polls&#39;</span><span class="p">,</span> <span class="s1">&#39;groups&#39;</span><span class="p">,</span> <span class="s1">&#39;board&#39;</span><span class="p">,</span> <span class="s1">&#39;announcements.form&#39;</span><span class="p">,</span> <span class="s1">&#39;polls.form&#39;</span><span class="p">,</span> <span class="s1">&#39;preferences&#39;</span><span class="p">,</span> <span class="s1">&#39;signage.base&#39;</span><span class="p">,</span>
    <span class="s1">&#39;signage.touch&#39;</span><span class="p">,</span> <span class="s1">&#39;signage.touch.landscape&#39;</span><span class="p">,</span> <span class="s1">&#39;eighth.common&#39;</span><span class="p">,</span> <span class="s1">&#39;eighth.attendance&#39;</span><span class="p">,</span> <span class="s1">&#39;eighth.profile&#39;</span><span class="p">,</span> <span class="s1">&#39;eighth.schedule&#39;</span><span class="p">,</span> <span class="s1">&#39;eighth.maintenance&#39;</span><span class="p">,</span>
    <span class="s1">&#39;lostfound&#39;</span><span class="p">,</span> <span class="s1">&#39;welcome&#39;</span><span class="p">,</span> <span class="s1">&#39;hoco_ribbon&#39;</span><span class="p">,</span> <span class="s1">&#39;hoco_scores&#39;</span><span class="p">,</span> <span class="s1">&#39;oauth&#39;</span><span class="p">,</span> <span class="s1">&#39;bus&#39;</span><span class="p">,</span> <span class="s1">&#39;signage.page&#39;</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">LIST_OF_INDEPENDENT_CSS</span><span class="p">:</span>
    <span class="n">PIPELINE</span><span class="p">[</span><span class="s1">&#39;STYLESHEETS&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">helpers</span><span class="o">.</span><span class="n">single_css_map</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>

<span class="n">AUTHENTICATION_BACKENDS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;django.contrib.auth.backends.ModelBackend&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.auth.backends.MasterPasswordAuthenticationBackend&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.auth.backends.KerberosAuthenticationBackend&quot;</span><span class="p">,</span>
    <span class="s2">&quot;oauth2_provider.backends.OAuth2Backend&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Default to Argon2, see https://docs.djangoproject.com/en/1.10/topics/auth/passwords/#argon2-usage</span>
<span class="n">PASSWORD_HASHERS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.auth.hashers.Argon2PasswordHasher&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.hashers.PBKDF2PasswordHasher&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.hashers.PBKDF2SHA1PasswordHasher&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.hashers.BCryptSHA256PasswordHasher&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth.hashers.BCryptPasswordHasher&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># Use the custom User model defined in apps/users/models.py</span>
<span class="n">AUTH_USER_MODEL</span> <span class="o">=</span> <span class="s2">&quot;users.User&quot;</span>

<span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;BACKEND&quot;</span><span class="p">:</span> <span class="s2">&quot;django.template.backends.django.DjangoTemplates&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DIRS&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">,</span> <span class="s2">&quot;templates&quot;</span><span class="p">),),</span>
        <span class="s2">&quot;OPTIONS&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;context_processors&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="s2">&quot;django.contrib.auth.context_processors.auth&quot;</span><span class="p">,</span>  <span class="c1"># Authentication; must be defined first</span>
                <span class="s2">&quot;django.template.context_processors.debug&quot;</span><span class="p">,</span>  <span class="c1"># Django default</span>
                <span class="s2">&quot;django.template.context_processors.request&quot;</span><span class="p">,</span>  <span class="c1"># Django default</span>
                <span class="s2">&quot;django.contrib.messages.context_processors.messages&quot;</span><span class="p">,</span>  <span class="c1"># For page messages</span>
                <span class="s2">&quot;intranet.apps.context_processors.ion_base_url&quot;</span><span class="p">,</span>  <span class="c1"># For determining the base url</span>
                <span class="s2">&quot;intranet.apps.context_processors.nav_categorizer&quot;</span><span class="p">,</span>  <span class="c1"># For determining the category in the navbar</span>
                <span class="s2">&quot;intranet.apps.context_processors.global_warning&quot;</span><span class="p">,</span>  <span class="c1"># For showing a global warning throughout the application (in page_base.html)</span>
                <span class="s2">&quot;intranet.apps.eighth.context_processors.start_date&quot;</span><span class="p">,</span>  <span class="c1"># For determining the eighth pd start date</span>
                <span class="s2">&quot;intranet.apps.eighth.context_processors.absence_count&quot;</span><span class="p">,</span>  <span class="c1"># For showing the absence count in the navbar</span>
                <span class="s2">&quot;intranet.apps.eighth.context_processors.enable_waitlist&quot;</span><span class="p">,</span>  <span class="c1"># For checking if the waitlist is enabled</span>
                <span class="s2">&quot;intranet.apps.context_processors.mobile_app&quot;</span><span class="p">,</span>  <span class="c1"># For the custom android app functionality (tbd?)</span>
                <span class="s2">&quot;intranet.apps.context_processors.is_tj_ip&quot;</span><span class="p">,</span>  <span class="c1"># Whether on the internal TJ or FCPS network</span>
                <span class="s2">&quot;intranet.apps.context_processors.show_homecoming&quot;</span><span class="p">,</span>  <span class="c1"># Sitewide custom themes (special events, etc)</span>
                <span class="s2">&quot;intranet.apps.context_processors.global_custom_theme&quot;</span><span class="p">,</span>  <span class="c1"># Sitewide custom themes (special events, etc)</span>
                <span class="s2">&quot;intranet.apps.context_processors.show_bus_button&quot;</span><span class="p">),</span>
            <span class="s2">&quot;debug&quot;</span><span class="p">:</span>
            <span class="kc">True</span><span class="p">,</span>  <span class="c1"># Only enabled if DEBUG is true as well</span>
            <span class="s1">&#39;loaders&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;django.template.loaders.filesystem.Loader&#39;</span><span class="p">,</span> <span class="s1">&#39;django.template.loaders.app_directories.Loader&#39;</span><span class="p">),</span>
            <span class="s1">&#39;libraries&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;staticfiles&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.staticfiles.templatetags.staticfiles&#39;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">]</span>  <span class="c1"># type: List[Dict[str,Any]]</span>

<span class="k">if</span> <span class="n">PRODUCTION</span><span class="p">:</span>
    <span class="n">TEMPLATES</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;OPTIONS&quot;</span><span class="p">][</span><span class="s2">&quot;loaders&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;django.template.loaders.cached.Loader&#39;</span><span class="p">,</span>
                                           <span class="p">[</span><span class="s1">&#39;django.template.loaders.filesystem.Loader&#39;</span><span class="p">,</span> <span class="s1">&#39;django.template.loaders.app_directories.Loader&#39;</span><span class="p">])]</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">PRODUCTION</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;WARN_INVALID_TEMPLATE_VARS&quot;</span><span class="p">,</span> <span class="s2">&quot;NO&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;YES&quot;</span><span class="p">:</span>
    <span class="n">TEMPLATES</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;OPTIONS&quot;</span><span class="p">][</span><span class="s2">&quot;string_if_invalid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">InvalidString</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;intranet.middleware.url_slashes.FixSlashes&quot;</span><span class="p">,</span>  <span class="c1"># Remove slashes in URLs</span>
    <span class="s2">&quot;django_prometheus.middleware.PrometheusBeforeMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django Prometheus initial</span>
    <span class="s2">&quot;django.middleware.common.CommonMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django default</span>
    <span class="s2">&quot;django.contrib.sessions.middleware.SessionMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django sessions</span>
    <span class="s2">&quot;django.middleware.csrf.CsrfViewMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django CSRF</span>
    <span class="s2">&quot;django.middleware.clickjacking.XFrameOptionsMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django X-Frame-Options</span>
    <span class="s2">&quot;django.contrib.auth.middleware.AuthenticationMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django auth</span>
    <span class="s2">&quot;oauth2_provider.middleware.OAuth2TokenMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django Oauth toolkit</span>
    <span class="s2">&quot;maintenance_mode.middleware.MaintenanceModeMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Maintenance mode</span>
    <span class="s2">&quot;intranet.middleware.threadlocals.ThreadLocalsMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Thread locals</span>
    <span class="s2">&quot;intranet.middleware.traceback.UserTracebackMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Include user in traceback</span>
    <span class="s2">&quot;django.contrib.messages.middleware.MessageMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Messages</span>
    <span class="s2">&quot;intranet.middleware.ajax.AjaxNotAuthenticatedMiddleWare&quot;</span><span class="p">,</span>  <span class="c1"># See note in ajax.py</span>
    <span class="s2">&quot;intranet.middleware.templates.AdminSelectizeLoadingIndicatorMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Selectize fixes</span>
    <span class="s2">&quot;intranet.middleware.templates.NoReferrerMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Prevent malicious JS from changing the referring page</span>
    <span class="s2">&quot;intranet.middleware.access_log.AccessLogMiddleWare&quot;</span><span class="p">,</span>  <span class="c1"># Access log</span>
    <span class="s2">&quot;django_requestlogging.middleware.LogSetupMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Request logging</span>
    <span class="s2">&quot;corsheaders.middleware.CorsMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># CORS headers, for ext. API use</span>
    <span class="c1"># &quot;intranet.middleware.profiler.ProfileMiddleware&quot;,         # Debugging only</span>
    <span class="s2">&quot;simple_history.middleware.HistoryRequestMiddleware&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django_prometheus.middleware.PrometheusAfterMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Django Prometheus after</span>
<span class="p">]</span>

<span class="k">if</span> <span class="n">PRODUCTION</span><span class="p">:</span>
    <span class="n">MIDDLEWARE</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;raven.contrib.django.raven_compat.middleware.SentryResponseErrorIdMiddleware&quot;</span><span class="p">]</span>

<span class="c1"># URLconf at urls.py</span>
<span class="n">ROOT_URLCONF</span> <span class="o">=</span> <span class="s2">&quot;intranet.urls&quot;</span>

<span class="c1"># Python dotted path to the WSGI application used by Django&#39;s runserver.</span>
<span class="n">WSGI_APPLICATION</span> <span class="o">=</span> <span class="s2">&quot;intranet.wsgi.application&quot;</span>

<span class="c1"># Name of current virtualenv</span>
<span class="n">VIRTUAL_ENV</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;VIRTUAL_ENV&quot;</span><span class="p">])</span> <span class="k">if</span> <span class="s2">&quot;VIRTUAL_ENV&quot;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span> <span class="k">else</span> <span class="s2">&quot;None&quot;</span>


<div class="viewcode-block" id="get_month_seconds"><a class="viewcode-back" href="../../sourcedoc/intranet.settings.html#intranet.settings.get_month_seconds">[docs]</a><span class="k">def</span> <span class="nf">get_month_seconds</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">*</span> <span class="mi">30</span></div>


<span class="n">CACHE_AGE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;dn_id_mapping&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">12</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;user_grade&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;user_classes&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;user_photo&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;class_teacher&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;class_attribute&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;user_attribute&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">get_month_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;bell_schedule&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;users_list&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;printers_list&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()),</span>
    <span class="s2">&quot;emerg&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
<span class="p">}</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">PRODUCTION</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SHORT_CACHE&quot;</span><span class="p">,</span> <span class="s2">&quot;NO&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;YES&quot;</span><span class="p">:</span>
    <span class="c1"># Make the cache age last just long enough to reload the page to</span>
    <span class="c1"># check if caching worked</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">CACHE_AGE</span><span class="p">:</span>
        <span class="n">CACHE_AGE</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="mi">60</span>

<span class="c1"># Cacheops configuration</span>
<span class="c1"># may be removed in the future</span>
<span class="n">CACHEOPS_REDIS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">6379</span><span class="p">,</span> <span class="s2">&quot;db&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;socket_timeout&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>

<span class="c1"># CACHEOPS_DEFAULTS = {&quot;ops&quot;: &quot;all&quot;, &quot;cache_on_save&quot;: True, &quot;timeout&quot;: int(datetime.timedelta(hours=24).total_seconds())}</span>

<span class="n">CACHEOPS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;eighth.*&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
    <span class="p">},</span>  <span class="c1"># Only used for caching activity, block lists</span>
    <span class="s2">&quot;groups.*&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
    <span class="p">}</span>  <span class="c1"># Only used for caching group list</span>
<span class="p">}</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">TESTING</span><span class="p">:</span>
    <span class="c1"># Settings for django-redis-sessions</span>
    <span class="n">SESSION_ENGINE</span> <span class="o">=</span> <span class="s2">&quot;redis_sessions.session&quot;</span>

    <span class="n">SESSION_REDIS_HOST</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span>
    <span class="n">SESSION_REDIS_PORT</span> <span class="o">=</span> <span class="mi">6379</span>
    <span class="n">SESSION_REDIS_DB</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">SESSION_REDIS_PREFIX</span> <span class="o">=</span> <span class="n">VIRTUAL_ENV</span> <span class="o">+</span> <span class="s2">&quot;:session&quot;</span>

    <span class="n">SESSION_COOKIE_AGE</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
    <span class="n">SESSION_SAVE_EVERY_REQUEST</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">CACHES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;OPTIONS&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Avoid conflict between production and testing redis db</span>
            <span class="s2">&quot;DB&quot;</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">PRODUCTION</span> <span class="k">else</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>  <span class="c1"># type: Dict[str,Dict[str,Any]]</span>

<span class="k">if</span> <span class="n">TESTING</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;DUMMY_CACHE&quot;</span><span class="p">,</span> <span class="s2">&quot;NO&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;YES&quot;</span> <span class="ow">or</span> <span class="n">NO_CACHE</span><span class="p">:</span>
    <span class="n">CACHES</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;BACKEND&quot;</span><span class="p">:</span> <span class="s2">&quot;intranet.utils.cache.DummyCache&quot;</span><span class="p">}</span>
    <span class="c1"># extension of django.core.cache.backends.dummy.DummyCache</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">CACHES</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;BACKEND&quot;</span><span class="p">:</span> <span class="s2">&quot;redis_cache.RedisCache&quot;</span><span class="p">,</span>
        <span class="s2">&quot;LOCATION&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1:6379&quot;</span><span class="p">,</span>
        <span class="s2">&quot;OPTIONS&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;PARSER_CLASS&quot;</span><span class="p">:</span> <span class="s2">&quot;redis.connection.HiredisParser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PICKLE_VERSION&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;KEY_PREFIX&quot;</span><span class="p">:</span> <span class="n">VIRTUAL_ENV</span>
    <span class="p">}</span>

<span class="n">CSL_REALM</span> <span class="o">=</span> <span class="s2">&quot;CSL.TJHSST.EDU&quot;</span>  <span class="c1"># CSL Realm</span>
<span class="n">AD_REALM</span> <span class="o">=</span> <span class="s2">&quot;LOCAL.TJHSST.EDU&quot;</span>
<span class="n">KINIT_TIMEOUT</span> <span class="o">=</span> <span class="mi">15</span>  <span class="c1"># seconds before pexpect timeouts</span>

<span class="n">FCPS_STUDENT_ID_LENGTH</span> <span class="o">=</span> <span class="mi">7</span>

<span class="c1"># Django REST framework configuration</span>
<span class="n">REST_FRAMEWORK</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;DEFAULT_PERMISSION_CLASSES&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;rest_framework.permissions.IsAuthenticated&quot;</span><span class="p">,),</span>  <span class="c1"># require authentication</span>
    <span class="s2">&quot;USE_ABSOLUTE_URLS&quot;</span><span class="p">:</span>
    <span class="kc">True</span><span class="p">,</span>

    <span class="c1"># Return native `Date` and `Time` objects in `serializer.data`</span>
    <span class="s2">&quot;DATETIME_FORMAT&quot;</span><span class="p">:</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;DATE_FORMAT&quot;</span><span class="p">:</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;TIME_FORMAT&quot;</span><span class="p">:</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;EXCEPTION_HANDLER&quot;</span><span class="p">:</span>
    <span class="s2">&quot;intranet.apps.api.utils.custom_exception_handler&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DEFAULT_PAGINATION_CLASS&quot;</span><span class="p">:</span>
    <span class="s2">&quot;rest_framework.pagination.PageNumberPagination&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PAGE_SIZE&quot;</span><span class="p">:</span>
    <span class="mi">50</span><span class="p">,</span>
    <span class="s2">&quot;DEFAULT_AUTHENTICATION_CLASSES&quot;</span><span class="p">:</span>
    <span class="p">(</span><span class="s2">&quot;intranet.apps.api.authentication.ApiBasicAuthentication&quot;</span><span class="p">,</span> <span class="s2">&quot;intranet.apps.api.authentication.CsrfExemptSessionAuthentication&quot;</span><span class="p">,</span>
     <span class="s2">&quot;oauth2_provider.contrib.rest_framework.OAuth2Authentication&quot;</span><span class="p">),</span>
    <span class="s2">&quot;DEFAULT_PERMISSION_CLASSES&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;rest_framework.permissions.IsAuthenticated&quot;</span><span class="p">,)</span>
<span class="p">}</span>

<span class="c1"># Django Oauth Toolkit configuration</span>
<span class="n">OAUTH2_PROVIDER</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># this is the list of available scopes</span>
    <span class="s1">&#39;SCOPES&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;read&#39;</span><span class="p">:</span> <span class="s1">&#39;Read scope&#39;</span><span class="p">,</span>
        <span class="s1">&#39;write&#39;</span><span class="p">:</span> <span class="s1">&#39;Write scope&#39;</span>
    <span class="p">},</span>
    <span class="c1"># OAuth refresh tokens expire in 30 days</span>
    <span class="s1">&#39;REFRESH_TOKEN_EXPIRE_SECONDS&#39;</span><span class="p">:</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">30</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">OAUTH2_PROVIDER_APPLICATION_MODEL</span> <span class="o">=</span> <span class="s1">&#39;oauth2_provider.Application&#39;</span>

<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># internal Django</span>
    <span class="s2">&quot;django.contrib.auth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.admindocs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.contenttypes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.sessions&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.sites&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.messages&quot;</span><span class="p">,</span>
    <span class="s2">&quot;django.contrib.staticfiles&quot;</span><span class="p">,</span>
    <span class="c1"># Django plugins</span>
    <span class="s2">&quot;django_extensions&quot;</span><span class="p">,</span>
    <span class="c1"># &quot;django_prometheus&quot;,</span>
    <span class="s2">&quot;django_requestlogging&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sslserver&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rest_framework&quot;</span><span class="p">,</span>
    <span class="s2">&quot;maintenance_mode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pipeline&quot;</span><span class="p">,</span>
    <span class="s2">&quot;channels&quot;</span><span class="p">,</span>
    <span class="c1"># Intranet apps</span>
    <span class="s2">&quot;intranet.apps&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.announcements&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.api&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.auth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.bus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.eighth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.events&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.groups&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.search&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.schedule&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.notifications&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.feedback&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.users&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.preferences&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.files&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.printing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.polls&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.signage&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.seniors&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.emerg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.itemreg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.lostfound&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.emailfwd&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.parking&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.dataimport&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intranet.apps.nomination&quot;</span><span class="p">,</span>
    <span class="c1"># Django plugins</span>
    <span class="s2">&quot;widget_tweaks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;oauth2_provider&quot;</span><span class="p">,</span>
    <span class="s2">&quot;corsheaders&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cacheops&quot;</span><span class="p">,</span>
    <span class="s2">&quot;svg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;simple_history&quot;</span>
<span class="p">]</span>

<span class="c1"># Django Channels Configuration (we use this for websockets)</span>
<span class="n">CHANNEL_LAYERS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;BACKEND&quot;</span><span class="p">:</span> <span class="s2">&quot;asgi_redis.RedisChannelLayer&quot;</span><span class="p">,</span> <span class="s2">&quot;ROUTING&quot;</span><span class="p">:</span> <span class="s2">&quot;intranet.routing.channel_routing&quot;</span><span class="p">}}</span>

<span class="k">if</span> <span class="n">PRODUCTION</span><span class="p">:</span>
    <span class="n">INSTALLED_APPS</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;raven.contrib.django.raven_compat&quot;</span><span class="p">]</span>

<span class="c1"># Eighth period default block date format</span>
<span class="c1"># Post Django 1.8.7, this can no longer be used in templates.</span>
<span class="n">EIGHTH_BLOCK_DATE_FORMAT</span> <span class="o">=</span> <span class="s2">&quot;D, N j, Y&quot;</span>

<span class="c1"># See http://docs.djangoproject.com/en/dev/topics/logging for</span>
<span class="c1"># more details on how to customize your logging configuration.</span>
<span class="n">LOG_LEVEL</span> <span class="o">=</span> <span class="s2">&quot;DEBUG&quot;</span> <span class="k">if</span> <span class="n">LOGGING_VERBOSE</span> <span class="k">else</span> <span class="s2">&quot;INFO&quot;</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;LOG_LEVEL&quot;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span> <span class="s2">&quot;WARNING&quot;</span><span class="p">,</span> <span class="s2">&quot;ERROR&quot;</span><span class="p">,</span> <span class="s2">&quot;CRITICAL&quot;</span><span class="p">):</span>
    <span class="n">LOG_LEVEL</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;LOG_LEVEL&quot;</span><span class="p">]</span>


<div class="viewcode-block" id="get_log"><a class="viewcode-back" href="../../sourcedoc/intranet.settings.html#intranet.settings.get_log">[docs]</a><span class="k">def</span> <span class="nf">get_log</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="p">(</span><span class="n">PRODUCTION</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">TRAVIS</span><span class="p">)</span> <span class="k">else</span> <span class="p">[]</span></div>


<span class="n">LOGGING</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;disable_existing_loggers&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;formatters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;simple&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%(levelname)s</span><span class="s2">: </span><span class="si">%(asctime)s</span><span class="s2"> - </span><span class="si">%(remote_addr)s</span><span class="s2"> - </span><span class="si">%(username)s</span><span class="s2"> - </span><span class="si">%(path_info)s</span><span class="se">\n\t</span><span class="si">%(message)s</span><span class="s2">&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%(message)s</span><span class="s2">&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;require_debug_false&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;()&quot;</span><span class="p">:</span> <span class="s2">&quot;django.utils.log.RequireDebugFalse&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;()&quot;</span><span class="p">:</span> <span class="s2">&quot;django_requestlogging.logging_filters.RequestFilter&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Email ADMINS</span>
        <span class="c1"># &quot;mail_admins&quot;: {</span>
        <span class="c1">#     &quot;level&quot;: &quot;ERROR&quot;,</span>
        <span class="c1">#     &quot;filters&quot;: [&quot;require_debug_false&quot;],</span>
        <span class="c1">#     &quot;class&quot;: &quot;intranet.middleware.email_handler.AdminEmailHandler&quot;,</span>
        <span class="c1">#     &quot;include_html&quot;: True</span>
        <span class="c1"># },</span>
        <span class="c1"># send to sentry</span>
        <span class="s1">&#39;sentry&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="s1">&#39;ERROR&#39;</span><span class="p">,</span>
            <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;raven.contrib.django.raven_compat.handlers.SentryHandler&#39;</span><span class="p">,</span>
            <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;require_debug_false&quot;</span><span class="p">],</span>
        <span class="p">},</span>
        <span class="c1"># Log in console</span>
        <span class="s2">&quot;console&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;logging.StreamHandler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;request&quot;</span><span class="p">],</span>
            <span class="s2">&quot;formatter&quot;</span><span class="p">:</span> <span class="s2">&quot;simple&quot;</span>
        <span class="p">},</span>
        <span class="c1"># Log access in console</span>
        <span class="s2">&quot;console_access&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;logging.StreamHandler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;request&quot;</span><span class="p">],</span>
            <span class="s2">&quot;formatter&quot;</span><span class="p">:</span> <span class="s2">&quot;access&quot;</span>
        <span class="p">},</span>
        <span class="c1"># Log access to file (DEBUG=FALSE)</span>
        <span class="s2">&quot;access_log&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;require_debug_false&quot;</span><span class="p">],</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;logging.FileHandler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;formatter&quot;</span><span class="p">:</span> <span class="s2">&quot;access&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/log/ion/app_access.log&quot;</span><span class="p">,</span>
            <span class="s2">&quot;delay&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
        <span class="c1"># Log auth to file (DEBUG=FALSE)</span>
        <span class="s2">&quot;auth_log&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;require_debug_false&quot;</span><span class="p">],</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;logging.FileHandler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;formatter&quot;</span><span class="p">:</span> <span class="s2">&quot;access&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/log/ion/app_auth.log&quot;</span><span class="p">,</span>
            <span class="s2">&quot;delay&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
        <span class="c1"># Log error to file (DEBUG=FALSE)</span>
        <span class="s2">&quot;error_log&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;ERROR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;require_debug_false&quot;</span><span class="p">,</span> <span class="s2">&quot;request&quot;</span><span class="p">],</span>
            <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;logging.FileHandler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;delay&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/log/ion/app_error.log&quot;</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="s2">&quot;loggers&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Django errors get sent to the error log</span>
        <span class="s2">&quot;django&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;console&quot;</span><span class="p">,</span> <span class="s2">&quot;sentry&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">get_log</span><span class="p">(</span><span class="s2">&quot;error_log&quot;</span><span class="p">),</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;ERROR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;propagate&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="c1"># Intranet errors email admins and errorlog</span>
        <span class="s2">&quot;intranet&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;console&quot;</span><span class="p">,</span> <span class="s2">&quot;sentry&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">get_log</span><span class="p">(</span><span class="s2">&quot;error_log&quot;</span><span class="p">),</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="n">LOG_LEVEL</span><span class="p">,</span>
            <span class="s2">&quot;propagate&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="c1"># Intranet access logs to accesslog</span>
        <span class="s2">&quot;intranet_access&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;console_access&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">get_log</span><span class="p">(</span><span class="s2">&quot;access_log&quot;</span><span class="p">),</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;propagate&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="c1"># Intranet auth logs to authlog</span>
        <span class="s2">&quot;intranet_auth&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;console_access&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">get_log</span><span class="p">(</span><span class="s2">&quot;auth_log&quot;</span><span class="p">),</span>
            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;propagate&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="s1">&#39;raven&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span>
            <span class="s1">&#39;handlers&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;console&#39;</span><span class="p">],</span>
            <span class="s1">&#39;propagate&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s1">&#39;sentry.errors&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span>
            <span class="s1">&#39;handlers&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;console&#39;</span><span class="p">],</span>
            <span class="s1">&#39;propagate&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># The debug toolbar is always loaded, unless you manually override SHOW_DEBUG_TOOLBAR</span>
<span class="n">SHOW_DEBUG_TOOLBAR</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SHOW_DEBUG_TOOLBAR&quot;</span><span class="p">,</span> <span class="s2">&quot;YES&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;YES&quot;</span>

<span class="k">if</span> <span class="n">SHOW_DEBUG_TOOLBAR</span><span class="p">:</span>
    <span class="n">DEBUG_TOOLBAR_PATCH_SETTINGS</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Boolean value defines whether enabled by default</span>
    <span class="n">_panels</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.versions.VersionsPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.timer.TimerPanel&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.settings.SettingsPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.headers.HeadersPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.request.RequestPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.sql.SQLPanel&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.staticfiles.StaticFilesPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.templates.TemplatesPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.cache.CachePanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.signals.SignalsPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.logging.LoggingPanel&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.redirects.RedirectsPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;debug_toolbar.panels.profiling.ProfilingPanel&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
        <span class="c1"># FIXME: broken (&quot;debug_toolbar_line_profiler.panel.ProfilingPanel&quot;, False),</span>
    <span class="p">]</span>

    <span class="c1"># Only show debug toolbar when requested if in production.</span>
    <span class="n">DEBUG_TOOLBAR_CONFIG</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;DISABLE_PANELS&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">panel</span> <span class="k">for</span> <span class="n">panel</span><span class="p">,</span> <span class="n">enabled</span> <span class="ow">in</span> <span class="n">_panels</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">enabled</span><span class="p">],</span>
        <span class="s2">&quot;SHOW_TOOLBAR_CALLBACK&quot;</span><span class="p">:</span> <span class="s2">&quot;intranet.utils.helpers.debug_toolbar_callback&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">DEBUG_TOOLBAR_PANELS</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">_panels</span><span class="p">]</span>

    <span class="c1"># Add middleware</span>
    <span class="n">MIDDLEWARE</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
        <span class="s2">&quot;intranet.middleware.templates.StripNewlinesMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Strip newlines</span>
        <span class="s2">&quot;debug_toolbar.middleware.DebugToolbarMiddleware&quot;</span><span class="p">,</span>  <span class="c1"># Debug toolbar</span>
    <span class="p">])</span>

    <span class="n">INSTALLED_APPS</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;debug_toolbar&quot;</span><span class="p">,</span> <span class="s2">&quot;debug_toolbar_line_profiler&quot;</span><span class="p">]</span>

<span class="c1"># Maintenance mode</span>
<span class="c1"># This should be adjusted in secrets.py or by running:</span>
<span class="c1"># ./manage.py maintenance [on|off]</span>
<span class="k">if</span> <span class="n">MAINTENANCE_MODE</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">MAINTENANCE_MODE</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">MAINTENANCE_MODE_TEMPLATE</span> <span class="o">=</span> <span class="s2">&quot;error/503.html&quot;</span>
<span class="n">MAINTENANCE_MODE_IGNORE_SUPERUSER</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Allow *.tjhsst.edu sites to access API, signage, and other resources</span>
<span class="n">CORS_ORIGIN_ALLOW_ALL</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">CORS_ORIGIN_REGEX_WHITELIST</span> <span class="o">=</span> <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^(https?://)?(\w+\.)?tjhsst\.edu$&#39;</span><span class="p">)</span>

<span class="c1"># Uncomment to only allow XHR on API resources from TJ domains</span>
<span class="c1"># CORS_URLS_REGEX = r&#39;^/api/.*$&#39;</span>

<span class="c1"># Same origin frame options</span>
<span class="n">X_FRAME_OPTIONS</span> <span class="o">=</span> <span class="s1">&#39;SAMEORIGIN&#39;</span>

<span class="c1"># X-XSS-Protection: 1; mode=block</span>
<span class="c1"># Already set on nginx level</span>
<span class="n">SECURE_BROWSER_XSS_FILTER</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># To accomodate for the fact that nginx &quot;swallows&quot; https connections</span>
<span class="c1"># by forwarding to http://gunicorn</span>
<span class="c1"># https://docs.djangoproject.com/en/dev/ref/settings/#secure-proxy-ssl-header</span>
<span class="n">SECURE_PROXY_SSL_HEADER</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;HTTP_X_FORWARDED_PROTO&#39;</span><span class="p">,</span> <span class="s1">&#39;https&#39;</span><span class="p">)</span>

<span class="c1"># Add git information for the login page</span>
<span class="n">GIT</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;commit_short_hash&quot;</span><span class="p">:</span> <span class="n">helpers</span><span class="o">.</span><span class="n">get_current_commit_short_hash</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">),</span>
    <span class="s2">&quot;commit_long_hash&quot;</span><span class="p">:</span> <span class="n">helpers</span><span class="o">.</span><span class="n">get_current_commit_long_hash</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">),</span>
    <span class="s2">&quot;commit_info&quot;</span><span class="p">:</span> <span class="n">helpers</span><span class="o">.</span><span class="n">get_current_commit_info</span><span class="p">(),</span>
    <span class="s2">&quot;commit_date&quot;</span><span class="p">:</span> <span class="n">helpers</span><span class="o">.</span><span class="n">get_current_commit_date</span><span class="p">(),</span>
    <span class="s2">&quot;commit_github_url&quot;</span><span class="p">:</span> <span class="n">helpers</span><span class="o">.</span><span class="n">get_current_commit_github_url</span><span class="p">(</span><span class="n">PROJECT_ROOT</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Senior graduation year</span>
<span class="n">SENIOR_GRADUATION_YEAR</span> <span class="o">=</span> <span class="mi">2019</span>

<span class="c1"># Senior graduation date in Javascript-readable format</span>
<span class="n">SENIOR_GRADUATION</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">SENIOR_GRADUATION_YEAR</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">19</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B </span><span class="si">%d</span><span class="s1"> %Y %H:%M:%S&#39;</span><span class="p">)</span>

<span class="c1"># Month (1-indexed) after which a new school year begins</span>
<span class="c1"># July = 7</span>
<span class="n">YEAR_TURNOVER_MONTH</span> <span class="o">=</span> <span class="mi">7</span>

<span class="c1"># The hour on an eighth period day to lock teachers from</span>
<span class="c1"># taking attendance (10PM)</span>
<span class="n">ATTENDANCE_LOCK_HOUR</span> <span class="o">=</span> <span class="mi">22</span>

<span class="c1"># The number of days to show an absence message (2 weeks)</span>
<span class="n">CLEAR_ABSENCE_DAYS</span> <span class="o">=</span> <span class="mi">14</span>

<span class="c1"># The address for FCPS&#39; Emergency Announcement page</span>
<span class="n">FCPS_EMERGENCY_PAGE</span> <span class="o">=</span> <span class="s2">&quot;https://www.fcps.edu/alert_msg_feed&quot;</span>  <span class="c1"># type: str</span>
<span class="c1"># &quot;http://www.fcps.edu/content/emergencyContent.html&quot;</span>

<span class="c1"># The timeout for the request to FCPS&#39; emergency page (in seconds)</span>
<span class="n">FCPS_EMERGENCY_TIMEOUT</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># Show an iframe with tjStar activity data</span>
<span class="k">if</span> <span class="n">TJSTAR_MAP</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">TJSTAR_MAP</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">SIMILAR_THRESHOLD</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># Shows a warning message with yellow background on the login page</span>
<span class="c1"># LOGIN_WARNING = &quot;This is a message to display on the login page.&quot;</span>

<span class="c1"># Shows a warning message with yellow background on the login and all interior pages</span>
<span class="c1"># GLOBAL_WARNING = &quot;This is a message to display throughout the application.&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">.secret</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># noqa</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="c1"># In-memory sqlite3 databases significantly speed up running tests.</span>
<span class="k">if</span> <span class="n">TESTING</span><span class="p">:</span>
    <span class="n">DATABASES</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;ENGINE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;django.db.backends.sqlite3&quot;</span>
    <span class="n">DATABASES</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;NAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;:memory:&quot;</span>
    <span class="c1"># Horrible hack to suppress all migrations to speed up the tests.</span>
    <span class="n">MIGRATION_MODULES</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">MigrationMock</span><span class="p">()</span>
    <span class="c1"># FIXME: we really shouldn&#39;t have to do this.</span>
    <span class="n">LOGGING_VERBOSE</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;-v ?[2-3]|--verbosity [2-3]&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="k">elif</span> <span class="n">PRODUCTION</span> <span class="ow">or</span> <span class="n">SECRET_DATABASE_URL</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">DATABASES</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">helpers</span><span class="o">.</span><span class="n">parse_db_url</span><span class="p">(</span><span class="n">SECRET_DATABASE_URL</span><span class="p">))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Default testing db config.</span>
    <span class="n">DATABASES</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;NAME&quot;</span><span class="p">:</span> <span class="s2">&quot;ion&quot;</span><span class="p">,</span> <span class="s2">&quot;USER&quot;</span><span class="p">:</span> <span class="s2">&quot;ion&quot;</span><span class="p">,</span> <span class="s2">&quot;PASSWORD&quot;</span><span class="p">:</span> <span class="s2">&quot;pwd&quot;</span><span class="p">})</span>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2019, TJ Intranet Development Team.<br/>
    </p>
  </div>
</footer>
  </body>
</html>